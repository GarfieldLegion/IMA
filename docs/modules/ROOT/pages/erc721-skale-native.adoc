The following flow applies equally to 721 and 1155 contracts.

.ERC721/1155 Flow, with Mint first on SKALE

ifdef::env-github[image::https://www.plantuml.com/plantuml/svg/fLDHRzem47xFhxX7oAHKxSiagAQsb6hJoZe1LP-zv0WtZ1tv70OQ--zpR72YHKAJceSeFd_ttNVVNUxO2cFhhKnksHuaVaf4Rcb7zl18eZHY2xyJSC-3o3UbqRKg9bfg0szhikXldabXY3r81tAnFydjrOdiE1Ea5DfZSbnylN-UmcJj0aUVs8zuBVvhfOrZEZsZD7t4Ike3V80PAGlVdfQSfkE8154wZeXlT5RmH1BPQYFAe3EorOvA541RTyDNEofGisF-oLgD8n9L4NYIyob8YlGpKLMaofWGE-tAVlcbq40Gpt12m7HlKJ5fvPlemUTO4biqt0BJ529kXinE-NUZzuSOpCmfoQKOCT7AlNCxoB9is5Re6dv1vY9l06tn_nNvNeMNJNGP2dFBO3Lq-kZAR6insWMg0isvpeiANOLwVVPxPYgLQsO--NXpxRVCHQtkkz0kXd_3qWZ5ApJcl0nzbqUlxCWCvaWxv6Px0nMjO92c_hB0d0hqpU6UR9eEWHW6rnciQbTmklmy1Bj6TT4fJ-KJkCbedPe99Keq7OVUX9HekJiTvuyfCTWKhlynQqDI1Wia8mnkil2_Ui73YqiMnNaiWt0j_QYDQlhTO7ToqUxkB5MnR61BVUfvC8oZe5NITsCKMM1BodOS7xal8FPXB7p8AtYTVu5SLuJ5E6a7p5PNoPqxrrlv5m00[]]
ifndef::env-github[]

[plantuml]
....
@startuml
<style>
activityDiagram {
    BackgroundColor White
    LineColor Black
  }
</style>
|Mainnet|
|SKALE Chain|
    |SKALE Chain|
    start
    fork
        :**Deploy + Mint NFTs**;
    fork again
        group Filestorage
            :upload images/videos + json;
        end group
    end fork
    group Mapping
        |Mainnet|
        :**Owner Deploys Mainnet Extensions**;
        :**Owner Registers Extension** 
        MessageProxy
        .registerExtraContract(...);
        |SKALE Chain|
        :**Owner Deploys Schain Extension**;
        :**Owner Registers Extension
        MessageProxy
        .registerExtraContract(...);
        |Mainnet|
        :**Owner Connects to SKALE Chain Extension**
        .setSenderContractOnSchain(...);
        :**Owner Assigns ERC721 Minter to Extension**;
    end group
group Transferring
    |SKALE Chain|
    :User receives NFT;
    if (**User decides to exit**) is (1. fund ETH) then
        |Mainnet|
        :**User funds ETH to SKALE Manager**
        Wallets
        .rechargeSchainWallet(...);
        kill
    else (2. start exit)
        |SKALE Chain|
        :**User exits and burns token**
        Extension
        .sendTokenToMainnet();
    endif
    |Mainnet|
    :Extension mints NFT;
    :NFT is minted
    tokenURI copied;
end group
stop
@enduml
....

endif::[]

## Deploy/Mint Process

. [SKALE Chain] Deploy and Mint NFTs
. [SKALE Chain] Upload images/videos + json to SKALE Chain Filestorage

## One-time Setup Steps

. [Mainnet] Owner deploys Extension
. [Mainnet] Owner registers extension
. [SKALE Chain] Owner deploys Extension
. [SKALE Chain] Owner registers extension
. [SKALE Chain] Owner deploys clone
. [Mainnet] Owner sets Extension to SKALE Chain Extension
. [Mainnet] Owner assigns ERC721 Minter to Extension

## Transfer Flow

Withdrawal

. [Mainnet] User funds SKALE Manager Wallet ETH for exit
. [SKALE Chain] User exits from Extension
. [Mainnet] _Extension contract mints NFT_
. [Mainnet] _NFT is minted, with same tokenURI and other metadata_
