The following flow applies equally to 721 and 1155 contracts.

.ERC721/1155 Flow, with Mint first on SKALE

ifdef::env-github[image::https://www.plantuml.com/plantuml/svg/fLF1Rjim3BtxAtXCFC15UncG54FRDCM6DUkGfEXPinc7Yo8PefmbMFRlawL4DkPY7J0V38jwV7nyf6_O2cFhhKoksHuaVaX4Rcb7zd1FeZHY2pyJSC-To3UbqRKg9bfg0ozhikXl7abXYDr91tAnNydrnOdiE1Ea5DfZSbnyldsSmcJj0aUVs8zuBVvhfKt359vHcjvZ9VK1ti6Cb8Kl3qjEqt54WYWTHyGtEYju88bijH5bq1dPQaSb2g2jk-6B7HMesJ5_Pwt64Ocg23p9-HGb1VgPg2fIPKo8dNPbF_rGQ228PpWXOBgtg9Yqyatqu7CiYIqQRe5f2X4tGsQd_AlH-qCCPkQKv5ACc6ZbthaTP5asZ1NwXhykSv4tWBRululyJurlsEWo5EQMmMheTFAgW8pHBb0LQCvrdbJeAzJhizyoKwbSE_F9-wjBlsSkQdNVXtOr_1kMHYXUeJ7dTUZxF7fcD60mHzeXD_iRg6W5WpJrbmNcLA1l3lTaqtG8n32up61LkuBJvSSXs3MglphbgNm2DncjKpEXH8ccuz2Ba18jTwVZ_34b1fl2zHzcRKZAO85aXC5L5lvOBtZuvffvSHxB85nBtsgZcduts9rSjBixIrKi6zXIdteU3ECeQ9NqtHX55jYIiXt7H-uBY7qO2n_o2fxddo3N5M4nJje1izLLSkFEzLR-1W00[]]
ifndef::env-github[]

[plantuml]
....
@startuml
<style>
activityDiagram {
    BackgroundColor White
    LineColor Black
  }
</style>
|Mainnet|
|SKALE Chain|
    |SKALE Chain|
    start
    fork
        :**Deploy + Mint NFTs**;
    fork again
        group Filestorage
            :upload images/videos + json;
        end group
    end fork
    group Mapping
        |Mainnet|
        :**Owner Deploys**
        Mainnet Extensions
        ERC721 contract copy;
        :**Owner Registers Extension** 
        MessageProxy
        .registerExtraContract(...);
        |SKALE Chain|
        :**Owner Deploys Schain Extension**;
        :**Owner Registers Extension**
        MessageProxy
        .registerExtraContract(...);
        |Mainnet|
        :**Owner Connects to SKALE Chain Extension**
        .setSenderContractOnSchain(...);
        :**Owner Assigns Deployed ERC721**
        Minter is Extension contract;
    end group
group Transferring
    |SKALE Chain|
    :User receives NFT;
    if (**User decides to exit**) is (1. fund ETH) then
        |Mainnet|
        :**User funds ETH to SKALE Manager**
        Wallets
        .rechargeSchainWallet(...);
        kill
    else (2. start exit)
        |SKALE Chain|
        :**User exits and burns token**
        Extension
        .sendTokenToMainnet();
    endif
    |Mainnet|
    :Extension mints through ERC721;
    :NFT with tokenID is minted
    tokenURI copied;
end group
stop
@enduml
....

endif::[]

## Deploy/Mint Process

. [SKALE Chain] Deploy and Mint NFTs
. [SKALE Chain] Upload images/videos + json to SKALE Chain Filestorage

## One-time Setup Steps

. [Mainnet] Owner deploys Extension + NFT contract copy
. [Mainnet] Owner registers extension
. [SKALE Chain] Owner deploys Extension
. [SKALE Chain] Owner registers extension
. [SKALE Chain] Owner deploys clone
. [Mainnet] Owner sets Extension to SKALE Chain Extension
. [Mainnet] Owner assigns NFT Minter to Extension

## Transfer Flow

Withdrawal

. [Mainnet] User funds SKALE Manager Wallet ETH for exit
. [SKALE Chain] User exits from Extension
. [Mainnet] _Extension contract executes NFT mint_
. [Mainnet] _NFT of tokenID minted, with same tokenURI and other metadata_
